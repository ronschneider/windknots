{{ define "main" }}
<article class="max-w-4xl mx-auto px-4 py-8">
  <!-- Hero Image -->
  {{ if .Params.image }}
  <div class="mb-8 -mx-4 md:mx-0 md:rounded-xl overflow-hidden shadow-lg">
    <img src="{{ .Params.image }}" alt="{{ .Title }}" class="w-full h-64 md:h-96 object-cover">
  </div>
  {{ end }}

  <!-- Header -->
  <header class="mb-8">
    <div class="flex items-center gap-2 text-sm text-gray-500 mb-4">
      <a href="/" class="text-ocean-600 hover:underline">Home</a>
      <span>/</span>
      <time datetime="{{ .Date.Format "2006-01-02" }}">{{ .Date.Format "January 2, 2006" }}</time>
    </div>

    <h1 class="text-4xl font-bold text-ocean-800 mb-4">{{ .Title }}</h1>

    <div class="flex flex-wrap gap-2 mb-6">
      {{ range .Params.tags }}
      <a href="/tags/{{ . | urlize }}/" class="px-3 py-1 bg-ocean-100 text-ocean-700 rounded-full text-sm hover:bg-ocean-200">
        {{ . }}
      </a>
      {{ end }}
    </div>
  </header>

  <!-- Editorial Content -->
  <div class="prose prose-lg max-w-none mb-12">
    {{ .Content }}
  </div>

  <!-- Key Takeaways -->
  {{ with .Params.takeaways }}
  <div class="bg-ocean-50 rounded-lg p-6 mb-12">
    <h2 class="text-xl font-semibold text-ocean-800 mb-3">Key Takeaways</h2>
    <ul class="list-disc list-inside text-gray-700 space-y-2">
      {{ range . }}
      <li>{{ . }}</li>
      {{ end }}
    </ul>
  </div>
  {{ end }}

  <!-- Back to Home -->
  <div class="mt-12 pt-8 border-t">
    <a href="/" class="text-ocean-600 hover:underline">&larr; Back to Digests</a>
  </div>
</article>
{{ end }}
